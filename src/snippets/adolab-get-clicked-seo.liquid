{% comment %}
**
* ALL RIGHTS RESERVED.
* NO PORTION OF THIS CODE MAY BE USED WITHOUT THE EXPRESS WRITTEN
* PERMISSION OF ADOLAB. COPYRIGHT 2019 ADOLAB.
*
* App: Get Clicked! SEO for Shopify
* Created By: Adolab [ https://adolab.com ]
*
* Developers Note: This file is automatically updated. Any changes made to this file will be
* automatically overwritten on the next update.
*
* Support Requests and Bug Reports should be sent to support@adolab.com
**
{% endcomment %}

<!-- Get Clicked SEO for Shopify -->
<!-- Created by Adolab [ https://adolab.com ] -->
{%- assign logo = shop.metafields.adolab_get_clicked.logo -%}
{%- assign get_clicked_custom_availability = shop.metafields.adolab_get_clicked.ignore_inventory_levels -%}
{% if template == 'blog' %}<script type="application/ld+json">{"@context": "https://schema.org","@type": "Blog","mainEntityOfPage": {"@type": "WebPage","@id": "{{ shop.secure_url }}{{ blog.url }}"},"publisher": {"@type": "Organization","name": "{{ shop.name }}","description": {{ shop.description | json }}},"name": "{{ blog.title }}","url": "{{ shop.secure_url }}{{ blog.url }}"}</script>{% elsif template == 'article' %}<script type="application/ld+json">{"@context": "https://schema.org","@type": "Article","url": "{{ shop.secure_url }}{{ article.url }}","mainEntityOfPage": "{{ shop.secure_url }}{{ article.url }}","name": {{ article.title | json }},"author": {{ article.author | json }},"publisher": {"@type": "Organization","logo": {"@type": "ImageObject","url": "https:{{ 'logo.png' | asset_url }}"},"name": {{ shop.name | json }}},"headline": {{ article.title | json }},{% if article.image %}"image": {"@type": "ImageObject","width": 1024,"height": 1024,"url": "https:{{ article | img_url: '1024x1024' }}"}, {% else %} "image": {"@type": "ImageObject","width": 1024,"height": 1024,"url": "https://cdn.shopify.com/s/images/admin/no-image-grande.gif"},{% endif %}"datePublished": "{{ article.published_at }}","dateCreated": "{{ article.created_at }}","dateModified": "{{ article.published_at }}",{% if article.excerpt.size > 0 %}"description": {{ article.excerpt | strip_html | json }} {% else %}"description": {{ article.content | strip_html | json }} {% endif %},"articleBody": {{ article.content | strip_html | json }}}</script>{% elsif template == '404' %}<script src='https://get-clicked-seo.adolab.com/js/missing.js?shop={{ shop.permanent_domain }}'></script>{% elsif template contains 'product' %}<script type="application/ld+json">{"@context": "https://schema.org","@id": "{{ shop.secure_url }}{{ product.url }}#product","@type": "Product","brand": {"@type": "Brand","name": {{ product.vendor | json }}},"sku": "{{ product.variants[0].sku }}","mpn": "{{ product.variants[0].barcode }}","description": {{ product.description | strip_html | json }},"url": "{{ shop.secure_url }}{{ product.url }}","name": {{ product.title | json }},"image": "https:{{ product.images[0].src | img_url }}","itemCondition": "http://schema.org/NewCondition","offers": [{% for variant in product.variants %}{"@type": "Offer",{% if shop.metafields.adolab_get_clicked.decimal_separator == 'comma' %}"price": "{{ variant.price | money_without_currency | remove: ',' | remove: '.' | plus: 0 | divided_by: 100.0 | round: 2 }}",{% else %}"price": "{{ variant.price | money_without_currency | remove: ',' }}",{% endif %}"priceCurrency": "{{ shop.currency }}","itemCondition": "http://schema.org/NewCondition","url": "{{ shop.secure_url }}{{ variant.url }}","sku": "{{ variant.sku }}","mpn": "{{ variant.barcode }}",{%- if get_clicked_custom_availability == "true" -%}"availability": "http://schema.org/InStock",{%- else -%}{%- if variant.inventory_quantity > 0 -%}"availability": "http://schema.org/InStock",{%- else -%}"availability": "http://schema.org/OutOfStock",{%- endif -%}{%- endif -%}"priceValidUntil": "{{ 'now' | date: '%s' | plus: 604800 | date: '%Y-%m-%d' | uri_encode | replace:'+','%20' }}",{%- if variant.barcode.size == 12 -%}"gtin12": "{{ variant.barcode }}"{%- elsif variant.barcode.size == 13 -%}"gtin13": "{{ variant.barcode }}"{%- else -%}"gtin14": "{{ variant.barcode }}"{% endif -%}}{%- if forloop.index < product.variants.size -%}, {%- endif -%}{%- endfor -%}]{% assign product-reviews-count = 0 %}{% assign product-rating = 0 %}{%- if product.metafields.spr.reviews -%}{% capture review_data %}{{ product.metafields.spr.reviews }}{% endcapture %}{% if review_data contains '"votes"' %}{% assign keyword = '"votes"' %}{% else  %}{% assign keyword = '"reviewCount"' %}{% endif %}{% assign rd_a1 = review_data | split: keyword %}{% assign rd_a2 = rd_a1[1] | split: "=" %}{% assign rd_a3 = rd_a2[1] | split: '"' %}{% assign product-reviews-count = rd_a3[1] | plus: 1 | minus: 1 %}{% if review_data contains '"ratingValue"' %}{% assign score = '"ratingValue"' %}{% else %}{% assign score = '"average"' %}{% endif %}{% assign rd_a1 = review_data | split: score %}{% assign rd_a2 = rd_a1[1] | split: "=" %}{% assign rd_a3 = rd_a2[1] | split: '"' %}{% assign product-rating = rd_a3[1] | plus: 1 | minus: 1 %}{% elsif product.metafields.reevio.reviews_count and product.metafields.reevio.reviews_count != "0" %}{% assign product-reviews-count = product.metafields.reevio.reviews_count %}{% assign product-rating = product.metafields.reevio.reviews_average %}{% elsif product.metafields.stamped.reviews_count and product.metafields.stamped.reviews_count != "0" %}{% assign product-reviews-count = product.metafields.stamped.reviews_count %}{% assign product-rating = product.metafields.stamped.reviews_average %}{%- elsif product.metafields.eggviews.reviews_count and product.metafields.eggviews.reviews_count != "0" -%}{% assign product-reviews-count = product.metafields.eggviews.reviews_count %}{% assign product-rating = product.metafields.eggviews.reviews_average %}{%- elsif product.metafields.loox.num_reviews and product.metafields.loox.num_reviews != "0" -%}{% assign product-reviews-count = product.metafields.loox.num_reviews %}{% assign product-rating = product.metafields.loox.avg_rating %}{%- elsif product.metafields.yotpo.reviews_count and product.metafields.yotpo.reviews_count != "0" -%}{% assign product-reviews-count = product.metafields.yotpo.reviews_count %}{% assign product-rating = product.metafields.yotpo.reviews_average %}{%- elsif product.metafields.kudobuzz.review_count and product.metafields.kudobuzz.review_count != "0" -%}{% assign product-reviews-count = product.metafields.kudobuzz.review_count %}{% assign product-rating = product.metafields.kudobuzz.review_rating %}{%- endif -%}{% assign product-reviews-count = product-reviews-count | plus: 0 %}{% if product-reviews-count > 0 %}, "aggregateRating": {"@type": "AggregateRating","reviewCount": "{{ product-reviews-count }}","ratingValue": "{{ product-rating }}"}{% endif %}}</script>{% endif %}<script type="application/ld+json">{"@context": "https://schema.org","@type": "WebSite","url": "{{ shop.secure_url }}","name": {{ shop.name | json }},"potentialAction": {"@type": "SearchAction","target": "{{ shop.secure_url }}/search?q={query}","query-input": "required name=query"}}</script><script type="application/ld+json">{"@context": "https://schema.org","@type": "Organization","name": {{ shop.name | json }},"url": "{{ shop.secure_url }}","description": {{ shop.description | json }},"telephone": "{{ shop.phone }}",{%- unless logo == blank -%}"logo": "{{ logo | remove: "\" }}","image": "{{ logo | remove: "\" }}",{%- else - %}"logo": "https:{{ 'logo.png' | asset_url }}","image": "https:{{ 'logo.png' | asset_url }}",{%- endunless %}"sameAs": [{{ shop.metafields.adolab_get_clicked.social }}],"address": {"@type": "PostalAddress","streetAddress": "{{ shop.address.street }}","addressLocality": "{{ shop.address.city }}","addressRegion": "{{ shop.address.province }}","postalCode": "{{ shop.address.zip }}","addressCountry": "{{ shop.address.country }}"}}</script>
<!-- End Get Clicked SEO for Shopify -->
